@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@inject IHtmlLocalizer<SharedResource> SharedLocalizer

@{ ViewData["Title"] = Localizer["Contributors"].Value; }
@section Styles{
    <link rel="stylesheet" href="@Helper.ToCDN("/css/contributors.min.css", true)" />
}

<div class="introduction others">
    <div class="introduction-start">
        <div class="introduction-title"><em>NEO</em><br />@Localizer["People"]</div>
        <div class="introduction-content">@Localizer["After four years of stable MainNet operation, Neo is undergoing it's biggest evolution as it migrates to N3 - The most powerful and feature rich version of the Neo blockchain to date."]</div>
    </div>
    <img class="introduction-img" data-original="@Helper.ToCDN("/images/discover/placeholder.png", true)" />
</div>

<div class="introduction industry-collaboration">
    <div class="introduction-start">
        <div class="introduction-title"><em>Industry</em><br />@Localizer["Collaboration"]</div>
        <div class="introduction-content">@Localizer["After four years of stable MainNet operation, Neo is undergoing it's biggest evolution as it migrates to N3 - The most powerful and feature rich version of the Neo blockchain to date."]</div>
    </div>
    <img class="introduction-img" data-original="@Helper.ToCDN("/images/discover/placeholder.png", true)" />
</div>

<div class="divider"></div>

<div class="resources">
    <div class="resources-start">
        <div class="menu">
            <div class="menu-item">
                @Localizer["Core Developers"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
            <div class="menu-item">
                @Localizer["Communities"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
            <div class="menu-item">
                @Localizer["Neo Foundation"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
            <div class="menu-item">
                @Localizer["Neo Global Development"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
            <div class="menu-item">
                @Localizer["Outstanding Contributors"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
            <div class="menu-item">
                @Localizer["Industry Collabration"]
                <i class="iconfont">&#xe6ab;</i>
            </div>
        </div>
        
        <select class="select-menu-page form-control">
            <option>@Localizer["Core Developers"]</option>
            <option>@Localizer["Communities"]</option>
            <option>@Localizer["Neo Foundation"]</option>
            <option>@Localizer["Neo Global Development"]</option>
            <option>@Localizer["Outstanding Contributors"]</option>
            <option>@Localizer["Industry Collabration"]</option>
        </select>
    </div>

    <div class="resources-end">
        <div class="menu-page">
            <partial name="./_CoreDevelopersPartial" />
        </div>
        <div class="menu-page">
            <partial name="./_CommunitiesPartial" />
        </div>
        <div class="menu-page">
            <partial name="./_NeoFoundationPartial" />
        </div>
        <div class="menu-page">
            <partial name="./_NeoGlobalDevelopmentPartial" />
        </div>
        <div class="menu-page">
            <partial name="./_OutStandingContributorsPartial" />
        </div>
        <div class="menu-page">
            <partial name="./_IndustryCollaborationPartial" />
        </div>
    </div>
</div>

@section Scripts {
    <script src="@Helper.ToCDN("/lib/jquery/jquery.min.js")"></script>
    <script>
        $(document).ready(() => {
            const hashArray = ['core-developers', 'communities', 'neo-fundation', 'neo-global-development', 'outstanding-contributors', 'industry-collabration']

            function updateCurrentPage(i) {
                const icIndex = hashArray.indexOf('industry-collabration')
                if (i === icIndex) {
                    $(".introduction.industry-collaboration").removeClass("d-none")
                    $(".introduction.others").addClass("d-none")
                } else {
                    $(".introduction.industry-collaboration").addClass("d-none")
                    $(".introduction.others").removeClass("d-none")
                }

                $('.menu-item').each((j, menuItem) => {
                    if (i === j) {
                        $(menuItem).addClass('active');
                        window.location.hash = hashArray[i];
                    } else {
                        $(menuItem).removeClass('active');
                    }
                });
                $('.menu-page').each((j, menuPage) => {
                    if (i === j) {
                        $(menuPage).addClass('active');
                        window.location.hash = hashArray[i];
                    } else {
                        $(menuPage).removeClass('active');
                    }
                });
                $('.select-menu-page').prop('selectedIndex', i);
            };

            $('.menu-item').each((i, menuItem) => {
                $(menuItem).click(() => {
                    updateCurrentPage(i);
                });
            });

            $('.select-menu-page').change(e => {
                updateCurrentPage(e.target.selectedIndex);
            });

            const hash = window.location.hash.replace(/#/g, '');
            const index = hashArray.indexOf(hash);

            updateCurrentPage(index >= 0 ? index : 0);
        });
    </script>
}
