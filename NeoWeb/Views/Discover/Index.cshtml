@model IEnumerable<NeoWeb.Models.DiscoverViewModel>
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = "Discover";
}

@section Styles{
    <environment include="Development">
        <link rel="stylesheet" href="/css/discover.css" asp-append-version="true" />
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="@Helper.ToCDN("/css/discover.min.css", true)" />
    </environment>
    <style>
    </style>
}

<div class="p2">
    <div class="row list2">
        @{await Html.RenderPartialAsync("_TopPartial", (ViewBag.Ontop as DiscoverViewModel));}
    </div>
</div>

<form asp-action="Discover" method="get" class="border-bottom d-search form-inline">
    <div class="search">
        <span>+</span>
        <input class="form-control" name="keywords" type="text" />
    </div>
    <div class="filter">
        <select class="form-control" name="type">
            <option value="">All types</option>
            <option value="1">BLOGS</option>
            <option value="2">EVENTS</option>
            <option value="3">NEWS</option>
        </select>
        <select class="form-control" name="year" asp-items="ViewBag.Year"></select>
        <input class="btn" type="submit" value="search" />
    </div>
</form>

<div class="row list2">
    @{await Html.RenderPartialAsync("_DiscoverPartial", Model);}
</div>
<div class="text-center m-4">
    <a href="javascript:" onclick="viewMore()">View More</a>
</div>
@section Scripts {
    <script>
        var group = 1;
        for (var i = 1; i < 10; i++) {
            $(".group-" + i).hide();
        }
        function viewMore() {
            $(".group-" + group++).show("fast");
        }
    </script>
}




